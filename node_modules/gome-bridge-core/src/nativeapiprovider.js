/*
 * @Author: liuxiaocong 
 * @Date: 2017-07-19 20:43:31 
 * @Last Modified by: liuxiaocong
 * @Last Modified time: 2017-08-06 19:17:48
 */
// js-native 安卓交互核心组件
const promptbasednativeapi = {
    exec: function(bridgeSecret, service, action, callbackId, argsJson) {
        return prompt(argsJson, 'gap:' + JSON.stringify([bridgeSecret, service, action, callbackId]));
    },
    setNativeToJsBridgeMode: function(bridgeSecret, value) {
        prompt(value, 'gap_bridge_mode:' + bridgeSecret);
    },
    retrieveJsMessages: function(bridgeSecret, fromOnlineEvent) {
        return prompt( + fromOnlineEvent, 'gap_poll:' + bridgeSecret);
    }
}

var nativeApi = window._cordovaNative || promptbasednativeapi
var currentApi = nativeApi;

module.exports =  {
    get: function() {
        return currentApi;
    },
    setPreferPrompt: function(value) {
        currentApi = value ? promptbasednativeapi : nativeApi;
    },
    // Used only by tests.
    set: function(value) {
        currentApi = value;
    }
};
// export { nativeapiprovider }