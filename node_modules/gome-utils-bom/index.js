/*
 * @Author: zhaoye 
 * @Date: 2017-12-13 13:44:21 
 * @Last Modified by: zhaoye
 * @Last Modified time: 2018-03-26 10:34:21
 */

function factory (BOM) {
    const stubableBOM = {}
    for (let key in window[BOM]) {
        
        // BACKUP 首字母大写转换的
        const getFN =  `get${key.replace(/(^.)/, key[0].toUpperCase())}`
        const setFN =  `set${key.replace(/(^.)/, key[0].toUpperCase())}`
        Object.defineProperty(stubableBOM, getFN, {
            value: function() { 
                return window[BOM][key]
            },
            writable: true,
        })
        Object.defineProperty(stubableBOM, setFN, {
            value: function(value) { 
                window[BOM][key] = value
            },
            writable: true,
        })
        Object.defineProperty(stubableBOM, key, {
            get () {
                return window[BOM][key]
            },
            set (value) {
                window[BOM][key] = value
            }
        })
    }
    return stubableBOM
}

const location  = factory('location')
const navigator = factory('navigator')
const history   = factory('history')
export {
    location,
    navigator,
    history,
}
export default {
    location,
    navigator,
    history,
}